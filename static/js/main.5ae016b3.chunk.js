(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{31:function(e,n,s){},32:function(e,n,s){},40:function(e,n,s){"use strict";s.r(n);var t=s(0),i=s.n(t),r=s(23),a=s.n(r),c=(s(31),s(32),s(9)),o=s(2),u=s(1),l=function(e){var n=[{rows:10,columns:8,mines:10},{rows:14,columns:18,mines:20},{rows:20,columns:24,mines:99}];return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"heading",children:" Minesweeper "}),Object(u.jsx)("h1",{className:"subheading",children:" Select level "}),Object(u.jsxs)("div",{className:"levels",children:[Object(u.jsx)(c.b,{to:{pathname:"/game",state:{levels:n[0]}},className:"level-select",children:"Easy"}),Object(u.jsx)(c.b,{to:{pathname:"/game",state:{levels:n[1]}},className:"level-select",children:"Medium"}),Object(u.jsx)(c.b,{to:{pathname:"/game",state:{levels:n[2]}},className:"level-select",children:"Hard"})]})]})},d=s(13),m=s(7),b=s(26),j=s(12),f=s.n(j),v=s(20),h=function(e){var n=Object(t.useState)(0),s=Object(m.a)(n,2),i=s[0],r=s[1],a=Object(t.useState)(0),c=Object(m.a)(a,2),o=c[0],l=c[1],d=Object(t.useState)(0),b=Object(m.a)(d,2),j=b[0],f=b[1];Object(t.useEffect)((function(){r(0),l(0),f(0)}),[e.square]);return Object(u.jsx)(t.Fragment,{children:Object(u.jsxs)("div",{className:i||o||j||!e.square.isMine&&e.square.isRevealed?"open":"closed",onClick:i||o||e.open?void 0:function(n){if(!j&&!e.square.isRevealed){if(!0===e.square.isMine)return l(1),void e.handleLoss();0===e.square.number_of_minesAround&&e.click(e.square.id),j||o||(r(1),e.square.isRevealed=!0,e.countOpened())}},onContextMenu:function(n){n.preventDefault(),i||o||!e.square.isMine&&e.square.isRevealed||f(j?0:1)},children:[e.square.isMine||!i&&!e.square.isRevealed?void 0:0===e.square.number_of_minesAround?"":e.square.number_of_minesAround,o||e.square.isRevealed&&e.square.isMine?Object(u.jsx)(v.b,{}):void 0,j&&!e.square.isRevealed?Object(u.jsx)(v.a,{}):""]})})},O=function e(){Object(b.a)(this,e),this.isMine=!1,this.number_of_minesAround=0,this.id=0,this.isRevealed=!1},_=[],p=function(e){var n=e.location.state.levels.rows,s=e.location.state.levels.columns,i=e.location.state.levels.mines,r=Object(t.useState)([]),a=Object(m.a)(r,2),c=a[0],o=a[1],l=Object(t.useState)(0),b=Object(m.a)(l,2),j=b[0],v=b[1],p=Object(t.useState)(!1),x=Object(m.a)(p,2),M=x[0],g=x[1];function q(){return _.length=0,function(){for(var e=0,t=0;t<n;t++){_.push([]),_[t].push(new Array(s));for(var r=0;r<s;r++)_[t][r]=new O,_[t][r].id=e++}for(var a=0;a<i;a++){var c=Math.floor(Math.random()*n),o=Math.floor(Math.random()*s);!0===_[c][o].isMine?a--:_[c][o].isMine=!0}for(var u=0;u<n;u++)for(var l=0;l<s;l++)!0===_[u][l].isMine&&(u+1<=n-1&&_[u+1][l].number_of_minesAround++,u-1>=0&&_[u-1][l].number_of_minesAround++,l+1<=s-1&&_[u][l+1].number_of_minesAround++,l-1>=0&&_[u][l-1].number_of_minesAround++,u-1>=0&&l-1>=0&&_[u-1][l-1].number_of_minesAround++,u-1>=0&&l+1<=s-1&&_[u-1][l+1].number_of_minesAround++,u+1<=n-1&&l-1>=0&&_[u+1][l-1].number_of_minesAround++,u+1<=n-1&&l+1<=s-1&&_[u+1][l+1].number_of_minesAround++)}(),_}function A(){for(var e=0;e<n;e++)for(var t=0;t<s;t++)_[e][t].isRevealed=!0;return _}function R(e){if(!(e<0||e>n*s-1)){var t=Math.floor(e/s),i=e%s;return!1===_[t][i].isMine&&(_[t][i].isRevealed=!0),t+1<=n-1&&!1===_[t+1][i].isMine&&!0!==_[t+1][i].isRevealed&&0===_[t][i].number_of_minesAround&&R(e+s),t-1>=0&&!1===_[t-1][i].isMine&&!0!==_[t-1][i].isRevealed&&0===_[t][i].number_of_minesAround&&R(e-s),i+1<=s-1&&!1===_[t][i+1].isMine&&!0!==_[t][i+1].isRevealed&&0===_[t][i].number_of_minesAround&&R(e+1),i-1>=0&&!1===_[t][i-1].isMine&&!0!==_[t][i-1].isRevealed&&0===_[t][i].number_of_minesAround&&R(e-1),_}}Object(t.useEffect)((function(){o(q)}),[]);var N=function(){o(Object(d.a)(A())),v(1),f()("Game Over!","You stepped on a mine","error")},w=function(e){o(Object(d.a)(R(e)))},S=function(){var e=c.map((function(e){return e.filter((function(e){return!0===e.isRevealed}))})),t=0;e.map((function(e){return t+=e.length})),t===n*s-i&&(g(!0),f()("You Won!","You found all mines!","success"),o(Object(d.a)(A())))};return Object(u.jsx)(t.Fragment,{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"heading",children:" Minesweeper "}),Object(u.jsx)("div",{className:"grid",children:c.map((function(e,n){return Object(u.jsx)("div",{className:"row",children:e.map((function(e){return Object(u.jsx)("div",{className:"square",children:Object(u.jsx)(h,{square:e,click:w,handleLoss:N,countOpened:S})},e.id.toString())}))},n)}))}),Object(u.jsx)("div",{className:"row buttonholder",children:j||M?Object(u.jsx)("button",{className:"resetbtn",onClick:function(){o(Object(d.a)(q())),f()("Resetting your board"),setTimeout((function(){f()("Done","Your Board is ready","success"),g(!1),v(0)}),500)},children:"Reset"}):void 0})]})})};var x=function(){return Object(u.jsx)(c.a,{children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",component:l}),Object(u.jsx)(o.a,{path:"/game",component:p})]})})},M=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,41)).then((function(n){var s=n.getCLS,t=n.getFID,i=n.getFCP,r=n.getLCP,a=n.getTTFB;s(e),t(e),i(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),M()}},[[40,1,2]]]);
//# sourceMappingURL=main.5ae016b3.chunk.js.map