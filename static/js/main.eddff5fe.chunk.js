(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{14:function(e,n,s){},15:function(e,n,s){},19:function(e,n,s){"use strict";s.r(n);var i=s(0),r=s.n(i),t=s(8),o=s.n(t),u=(s(14),s(15),s(2)),a=s(9),c=s(3),d=s.n(c),f=s(5),m=s(1),l=function(e){var n=Object(i.useState)(0),s=Object(u.a)(n,2),r=s[0],t=s[1],o=Object(i.useState)(0),a=Object(u.a)(o,2),c=a[0],d=a[1],l=Object(i.useState)(0),b=Object(u.a)(l,2),j=b[0],v=b[1];Object(i.useEffect)((function(){t(0),d(0),v(0)}),[e.square]);return Object(m.jsx)(i.Fragment,{children:Object(m.jsxs)("div",{className:r||c||j||!e.square.isMine&&e.square.isRevealed?"open":"closed",onClick:r||c||e.open?void 0:function(n){if(!j){if(!0===e.square.isMine)return d(1),void e.handleLoss();0===e.square.number_of_minesAround&&e.click(e.square.id),j||c||(t(1),e.square.isRevealed=!0,e.countOpened())}},onContextMenu:function(n){n.preventDefault(),r||c||!e.square.isMine&&e.square.isRevealed||v(j?0:1)},children:[e.square.isMine||!r&&!e.square.isRevealed?void 0:0===e.square.number_of_minesAround?"":e.square.number_of_minesAround,c||e.square.isRevealed&&e.square.isMine?Object(m.jsx)(f.b,{}):void 0,j&&!e.square.isRevealed?Object(m.jsx)(f.a,{}):""]})})},b=function e(){Object(a.a)(this,e),this.isMine=!1,this.number_of_minesAround=0,this.id=0,this.isRevealed=!1},j=[],v=function(e){var n=e.rows,s=e.columns,r=e.mines,t=Object(i.useState)([]),o=Object(u.a)(t,2),a=o[0],c=o[1],f=Object(i.useState)(1),v=Object(u.a)(f,2),O=v[0],h=v[1],_=Object(i.useState)(0),p=Object(u.a)(_,2),M=p[0],q=p[1],x=Object(i.useState)(!1),A=Object(u.a)(x,2),R=A[0],g=A[1];function w(){return j.length=0,function(){for(var e=0,i=0;i<n;i++){j.push([]),j[i].push(new Array(s));for(var t=0;t<s;t++)j[i][t]=new b,j[i][t].id=e++}for(var o=0;o<r;o++){var u=Math.floor(Math.random()*n),a=Math.floor(Math.random()*s);!0===j[u][a].isMine?o--:j[u][a].isMine=!0}for(var c=0;c<n;c++)for(var d=0;d<s;d++)!0===j[c][d].isMine&&(c+1<=n-1&&j[c+1][d].number_of_minesAround++,c-1>=0&&j[c-1][d].number_of_minesAround++,d+1<=s-1&&j[c][d+1].number_of_minesAround++,d-1>=0&&j[c][d-1].number_of_minesAround++,c-1>=0&&d-1>=0&&j[c-1][d-1].number_of_minesAround++,c-1>=0&&d+1<=s-1&&j[c-1][d+1].number_of_minesAround++,c+1<=n-1&&d-1>=0&&j[c+1][d-1].number_of_minesAround++,c+1<=n-1&&d+1<=s-1&&j[c+1][d+1].number_of_minesAround++)}(),j}function S(e){if(!(e<0||e>n*s-1)){var i=Math.floor(e/s),r=e%s;return!1===j[i][r].isMine&&(j[i][r].isRevealed=!0),i+1<=n-1&&!1===j[i+1][r].isMine&&!0!==j[i+1][r].isRevealed&&0===j[i][r].number_of_minesAround&&S(e+s),i-1>=0&&!1===j[i-1][r].isMine&&!0!==j[i-1][r].isRevealed&&0===j[i][r].number_of_minesAround&&S(e-s),r+1<=s-1&&!1===j[i][r+1].isMine&&!0!==j[i][r+1].isRevealed&&0===j[i][r].number_of_minesAround&&S(e+1),r-1>=0&&!1===j[i][r-1].isMine&&!0!==j[i][r-1].isRevealed&&0===j[i][r].number_of_minesAround&&S(e-1),j}}Object(i.useEffect)((function(){c(w),console.log("in effect")}),[]);var N=function(){!function(){for(var e=0;e<n;e++)for(var i=0;i<s;i++)j[e][i].isRevealed=!0}(),q(1),d()("Game Over!","You stepped on a mine","error")},k=function(e){c(S(e)),h(!O)},C=function(){var e=a.map((function(e){return e.filter((function(e){return!0===e.isRevealed}))})),i=0;e.map((function(e){return i+=e.length})),i===n*s-r&&(g(!0),d()("You Won!","You found all mines!","success"))};return Object(m.jsx)(i.Fragment,{children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{className:"heading",children:" Minesweeper "}),Object(m.jsx)("div",{className:"grid",children:a.map((function(e,n){return Object(m.jsx)("div",{className:"row",children:e.map((function(e){return Object(m.jsx)("div",{className:"square",children:Object(m.jsx)(l,{square:e,click:k,handleLoss:N,countOpened:C})},e.id.toString())}))},n)}))}),Object(m.jsx)("div",{className:"row buttonholder",children:M||R?Object(m.jsx)("button",{className:"resetbtn",onClick:function(){w(),d()("Resetting your board"),setTimeout((function(){d()("Done","Your Board is ready","success"),g(!1),q(0)}),500)},children:"Reset"}):void 0})]})})};var O=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(v,{rows:14,columns:10,mines:10})})},h=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,20)).then((function(n){var s=n.getCLS,i=n.getFID,r=n.getFCP,t=n.getLCP,o=n.getTTFB;s(e),i(e),r(e),t(e),o(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(O,{})}),document.getElementById("root")),h()}},[[19,1,2]]]);
//# sourceMappingURL=main.eddff5fe.chunk.js.map