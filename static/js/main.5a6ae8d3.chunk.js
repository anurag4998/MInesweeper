(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{17:function(e,n,s){},18:function(e,n,s){},22:function(e,n,s){"use strict";s.r(n);var i=s(0),r=s.n(i),t=s(11),o=s.n(t),u=(s(17),s(18),s(5)),a=s(2),c=s(12),d=s(4),f=s.n(d),m=s(8),b=s(1),l=function(e){var n=Object(i.useState)(0),s=Object(a.a)(n,2),r=s[0],t=s[1],o=Object(i.useState)(0),u=Object(a.a)(o,2),c=u[0],d=u[1],f=Object(i.useState)(0),l=Object(a.a)(f,2),j=l[0],v=l[1];Object(i.useEffect)((function(){t(0),d(0),v(0)}),[e.square]);return Object(b.jsx)(i.Fragment,{children:Object(b.jsxs)("div",{className:r||c||j||!e.square.isMine&&e.square.isRevealed?"open":"closed",onClick:r||c||e.open?void 0:function(n){if(!j&&!e.square.isRevealed){if(!0===e.square.isMine)return d(1),void e.handleLoss();0===e.square.number_of_minesAround&&e.click(e.square.id),j||c||(t(1),e.square.isRevealed=!0,e.countOpened())}},onContextMenu:function(n){n.preventDefault(),r||c||!e.square.isMine&&e.square.isRevealed||v(j?0:1)},children:[e.square.isMine||!r&&!e.square.isRevealed?void 0:0===e.square.number_of_minesAround?"":e.square.number_of_minesAround,c||e.square.isRevealed&&e.square.isMine?Object(b.jsx)(m.b,{}):void 0,j&&!e.square.isRevealed?Object(b.jsx)(m.a,{}):""]})})},j=function e(){Object(c.a)(this,e),this.isMine=!1,this.number_of_minesAround=0,this.id=0,this.isRevealed=!1},v=[],O=function(e){var n=e.rows,s=e.columns,r=e.mines,t=Object(i.useState)([]),o=Object(a.a)(t,2),c=o[0],d=o[1],m=Object(i.useState)(0),O=Object(a.a)(m,2),h=O[0],_=O[1],p=Object(i.useState)(!1),M=Object(a.a)(p,2),q=M[0],x=M[1];function A(){return v.length=0,function(){for(var e=0,i=0;i<n;i++){v.push([]),v[i].push(new Array(s));for(var t=0;t<s;t++)v[i][t]=new j,v[i][t].id=e++}for(var o=0;o<r;o++){var u=Math.floor(Math.random()*n),a=Math.floor(Math.random()*s);!0===v[u][a].isMine?o--:v[u][a].isMine=!0}for(var c=0;c<n;c++)for(var d=0;d<s;d++)!0===v[c][d].isMine&&(c+1<=n-1&&v[c+1][d].number_of_minesAround++,c-1>=0&&v[c-1][d].number_of_minesAround++,d+1<=s-1&&v[c][d+1].number_of_minesAround++,d-1>=0&&v[c][d-1].number_of_minesAround++,c-1>=0&&d-1>=0&&v[c-1][d-1].number_of_minesAround++,c-1>=0&&d+1<=s-1&&v[c-1][d+1].number_of_minesAround++,c+1<=n-1&&d-1>=0&&v[c+1][d-1].number_of_minesAround++,c+1<=n-1&&d+1<=s-1&&v[c+1][d+1].number_of_minesAround++)}(),v}function R(){for(var e=0;e<n;e++)for(var i=0;i<s;i++)v[e][i].isRevealed=!0;return v}function g(e){if(!(e<0||e>n*s-1)){var i=Math.floor(e/s),r=e%s;return!1===v[i][r].isMine&&(v[i][r].isRevealed=!0),i+1<=n-1&&!1===v[i+1][r].isMine&&!0!==v[i+1][r].isRevealed&&0===v[i][r].number_of_minesAround&&g(e+s),i-1>=0&&!1===v[i-1][r].isMine&&!0!==v[i-1][r].isRevealed&&0===v[i][r].number_of_minesAround&&g(e-s),r+1<=s-1&&!1===v[i][r+1].isMine&&!0!==v[i][r+1].isRevealed&&0===v[i][r].number_of_minesAround&&g(e+1),r-1>=0&&!1===v[i][r-1].isMine&&!0!==v[i][r-1].isRevealed&&0===v[i][r].number_of_minesAround&&g(e-1),v}}Object(i.useEffect)((function(){d(A)}),[]);var w=function(){d(Object(u.a)(R())),_(1),f()("Game Over!","You stepped on a mine","error")},N=function(e){d(Object(u.a)(g(e)))},S=function(){var e=c.map((function(e){return e.filter((function(e){return!0===e.isRevealed}))})),i=0;e.map((function(e){return i+=e.length})),i===n*s-r&&(x(!0),f()("You Won!","You found all mines!","success"),d(Object(u.a)(R())))};return Object(b.jsx)(i.Fragment,{children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{className:"heading",children:" Minesweeper "}),Object(b.jsx)("div",{className:"grid",children:c.map((function(e,n){return Object(b.jsx)("div",{className:"row",children:e.map((function(e){return Object(b.jsx)("div",{className:"square",children:Object(b.jsx)(l,{square:e,click:N,handleLoss:w,countOpened:S})},e.id.toString())}))},n)}))}),Object(b.jsx)("div",{className:"row buttonholder",children:h||q?Object(b.jsx)("button",{className:"resetbtn",onClick:function(){d(Object(u.a)(A())),f()("Resetting your board"),setTimeout((function(){f()("Done","Your Board is ready","success"),x(!1),_(0)}),500)},children:"Reset"}):void 0})]})})};var h=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(O,{rows:14,columns:10,mines:14})})},_=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,23)).then((function(n){var s=n.getCLS,i=n.getFID,r=n.getFCP,t=n.getLCP,o=n.getTTFB;s(e),i(e),r(e),t(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(h,{})}),document.getElementById("root")),_()}},[[22,1,2]]]);
//# sourceMappingURL=main.5a6ae8d3.chunk.js.map